.. comment:
    SPDX-FileCopyrightText: 2017-2023 Contributors to the OpenSTEF project <korte.termijn.prognoses@alliander.com>
    SPDX-License-Identifier: MPL-2.0

Спліт-прогноз: Адаптація домену для послідовного навчання з нуля (DAZLS)
========================================================================

DAZLS - це функція розщеплення енергії в OpenSTEF. Це техніка, яка передає
знання з повної інформації про підстанції до неповної інформації про підстанції
для прогнозування сонячної та вітрової енергії.
Вона використовується в :mod:`openstef.pipeline.create_component_forecast`
для створення прогнозу.

Ця функція тренує модель розщеплення на даних з декількох підстанцій
з відомими компонентами і використовує цю модель для прогнозування для
цільових підстанцій з невідомими компонентами. Навчальні дані з відомих підстанцій
включають інформацію про погоду, місцезнаходження та загальне навантаження
кожної підстанції, а також прогнозує сонячну та вітрову потужність
цільових підстанцій.


Модель розроблена як метод навчання з нульовим пострілом, оскільки вона повинна
здійснювати прогнозування цільових підстанцій з невідомими компонентами
використовуючи навчальні дані інших підстанцій з відомими компонентами. 
Для цього метод сформульовано як двоетапний підхід, що поєднує
дві моделі, що розгортаються послідовно, моделі домену та моделі адаптації.

На схемі нижче зображено структуру моделі DAZLS. Вхідними даними моделі є дані
з повно-інформаційних підстанцій. Для кожної відомої підстанції ми маємо вхідні дані,
вихідні метадані та вихідні дані. Спочатку ми подаємо вхідні дані
для навчання доменної моделі.
Доменна модель дає прогнозовані вихідні дані. Ці прогнозовані вихідні дані,
пов'язані з вихідними метаданими кожної підстанції, використовуються як вхідні дані
для навчання адаптаційної моделі. Потім адаптаційна модель надає остаточний прогноз виробітку
сонячної та вітрової енергії для цільових підстанцій.

.. figure:: https://user-images.githubusercontent.com/66070103/189650328-377ebb79-e8a7-40c6-acf3-64a5bb6197a4.jpg
   :alt: Presentation3

   Модель адаптації домену

Додаткову інформацію про модель DAZLS дивиться:

Teng, S.Y., van Nooten, C.C., van Doorn, J.M., Ottenbros, A., Huijbregts, M., Jansen, J.J.
Improving Near Real-Time Predictions of Renewable Electricity Production
at Substation Level (Submitted)

ЯК КОРИСТУВАТИСЯ: Код, який завантажує та зберігає модель DAZLS, знаходиться у 
файлі блокнота
`05. Split net load into Components.ipynb <https://github.com/OpenSTEF/openstef-offline-example/tree/master/examples/05.%20Split%20net%20load%20into%20Components>`__.
Під час запуску цього блокнота створюється файл dazls_stored.sav
який можна використовувати у трубопроводі передбачень. Важливо, щоб щоразу, коли
відбуваються зміни в
`dazls.py <https://github.com/OpenSTEF/openstef/blob/main/openstef/model/regressors/dazls.py>`__,
щоб знову запустити блокнот і використати
щойно створений файл dazls_stored.sav у репозиторії.
